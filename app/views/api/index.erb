<h1>API</h1>

<p>API queries must be authenticated with a valid API key. The API key should be included with the key <code>api-key</code> in the header.</p>

<h2><code>GET /api/annual_flight_summary</code></h2>

<p>Returns a JSON object containing a record for each year of the user’s flights. Each year record contains a <code>count</code> object and a <code>distance_mi</code> object; each of these objects contain values for <code>business</code>, <code>mixed</code>, <code>personal</code>, and <code>undefined</code>. <code>count</code> values are an integer number of flights, and <code>distance_mi</code> values are an integer number of (statute) miles.</p>

<h3>Example</h3>

<p><code>{"2018": {"count": {"business": 0, "mixed": 0, "personal": 0, "undefined": 0}, "distance_mi": {"business": 0, "mixed": 0, "personal": 0, "undefined": 0}}, ...}</code></p>

<h2><code>GET /api/all_flights</code></h2>

<p>Returns a JSON array of all of the user’s flights, with each record including the <code>departure_utc</code>, <code>departure_date_local</code>, <code>id</code>, <code>fa_flight_id</code>, <code>flight_number</code>, <code>airline_name</code>, <code>airline_iata</code>, <code>origin_airport_iata</code>, and <code>destination_airport_iata</code>.</p>

<h3>Example</h3>

<p><code>[{"departure_utc": "2018-01-01T00:00:00Z", "departure_date_local": 2018-01-01", "id": 1, "fa_flight_id": "AAL7001-1234567890-airline-0000", "flight_number": "7001", "airline_name": "American Airlines", "airline_iata": "AA", "origin_airport_iata": "DAY", "destination_airport_iata": "DFW"}, ...]</code></p>

<h2><code>GET /api/recent_flights</code></h2>

<p>Returns a JSON array of all of the user’s flights within the last 10 days, with each record including the <code>departure_utc</code>, <code>id</code>, and <code>fa_flight_id</code>.</p>

<h3>Example</h3>

<p><code>[{"departure_utc": "2018-01-01T00:00:00Z", "id": 1, "fa_flight_id": "AAL7001-1234567890-airline-0000"}, ...]</code></p>