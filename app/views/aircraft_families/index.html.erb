<h1>Aircraft Families</h1>

<p>This listing shows how often Iʼve flown on each particular family of airplane. Each family of airplane may have several types, but all of those types have been included in each familyʼs total.</p>

<% if @flights.empty? %>
  <%= render partial: "flights/error_no_flights" %>
<% else %>

  <p>I have flown on <%= pluralize(@aircraft_families.count, "aircraft family") %>.</p>

  <% if @aircraft_families.empty? %>
    <%= render_message(:warning, "There are no flights in the flight log that include an aircraft type!") %>
  <% else %>
    <%= render partial: "aircraft_family_count_table", locals: {aircraft_families: @aircraft_families, is_summary: false} %>
  <% end %>

  <% if (logged_in? && @aircraft_families_with_no_flights.any?) %>
  	<h2>Aircraft Families with No Flights</h2>
  	<table class="flightlog">
  		<tr>
  			<th class="aircraft-family">Aircraft Family</th>
  			<th class="aircraft-code">Code</th>
  		</tr>
  	<% @aircraft_families_with_no_flights.each do |aircraft_family| %>
  	  <tr>
  	    <td class="aircraft-family"><%= link_to(%Q(<span class="aircraft-manufacturer">#{aircraft_family[:manufacturer]}</span> #{aircraft_family[:family_name]}).html_safe, aircraft_family_path(aircraft_family[:id]), :title => "View aircraft family details for #{aircraft_family[:manufacturer]} #{aircraft_family[:family_name]}") %></td>
  	    <td class="aircraft-code code-mono"><%= link_to(aircraft_family[:iata_aircraft_code], aircraft_family_path(aircraft_family[:id]), :title => "View aircraft family details for #{aircraft_family[:manufacturer]} #{aircraft_family[:family_name]}") %></td>
  		</tr>
  	<% end %>
  	</table>
  <% end %>
  
<% end %>